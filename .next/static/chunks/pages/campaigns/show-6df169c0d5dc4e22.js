(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return t(5507)}])},5507:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var n=t(7568),s=t(1438),a=t(2951),o=t(8029),i=t(460),u=t(7582),c=t(5893),d=t(7294),l=t(3544),h=t(4148),p=t(2256),m=t(8005),f=t(967),v=t(1508),Z=t(4111),b=t(4924),g=t(5424),w=t(416),y=t(8156),C=t(6215),j=function(e){(0,o.Z)(t,e);var r=(0,i.Z)(t);function t(){var e;(0,s.Z)(this,t),e=r.apply(this,arguments),(0,b.Z)((0,Z.Z)(e),"state",{value:"",errorMessage:"",loading:!1});var a=(0,Z.Z)(e);return(0,b.Z)((0,Z.Z)(e),"onSubmit",function(){var e=(0,n.Z)((function(e){var r,t,n;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:e.preventDefault(),r=(0,h.Z)(a.props.address),a.setState({loading:!0,errorMessage:""}),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,v.Z.eth.getAccounts()];case 2:return t=s.sent(),[4,r.methods.contribute().send({from:t[0],value:v.Z.utils.toWei(a.state.value,"ether")})];case 3:return s.sent(),C.Router.replaceRoute("/campaigns/".concat(a.props.address)),[3,5];case 4:return n=s.sent(),a.setState({errorMessage:n.message}),[3,5];case 5:return a.setState({loading:!1,value:""}),[2]}}))}));return function(r){return e.apply(this,arguments)}}()),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this;return(0,c.jsxs)(g.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,c.jsxs)(g.Z.Field,{children:[(0,c.jsx)("label",{children:" Amount to Contribute"}),(0,c.jsx)(w.Z,{value:this.state.value,onChange:function(r){return e.setState({value:r.target.value})},label:"ether",labelPosition:"right"})]}),(0,c.jsx)(y.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,c.jsx)(f.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"})]})}}]),t}(d.Component),x=j,_=function(e){(0,o.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,s.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"renderCards",value:function(){var e=this.props,r=e.balance,t=[{header:e.manager,meta:"Address of Manager",description:"The manager created this campaign and can request to access the money",style:{overflowWrap:"break-word"}},{header:e.minimumContribution,meta:"Minimum Contribution(Wei)",description:"You must contribute this much Wei to become an Approver",style:{overflowWrap:"break-word"}},{header:e.requestsCount,meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Requests must be approved",style:{overflowWrap:"break-word"}},{header:e.approversCount,meta:"Number of Approvers",description:"Number of people who have already donated to the contract",style:{overflowWrap:"break-word"}},{header:v.Z.utils.fromWei(r,"ether"),meta:"Campaign Balance(ether)",description:"Balance is how much money this campaign has left to spend",style:{overflowWrap:"break-word"}}];return(0,c.jsx)(p.Z.Group,{items:t})}},{key:"render",value:function(){return(0,c.jsxs)(l.Z,{children:[(0,c.jsx)("h3",{children:"Campaign Show"}),(0,c.jsxs)(m.Z,{children:[(0,c.jsxs)(m.Z.Row,{children:[(0,c.jsx)(m.Z.Column,{width:10,children:this.renderCards()}),(0,c.jsx)(m.Z.Column,{width:6,children:(0,c.jsx)(x,{address:this.props.address})})]}),(0,c.jsx)(m.Z.Row,{children:(0,c.jsx)(m.Z.Column,{children:(0,c.jsx)(C.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsx)(f.Z,{primary:!0,children:"View Requests"})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var r;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,h.Z)(e.query.address).methods.getSummary().call()];case 1:return r=t.sent(),[2,{address:e.query.address,minimumContribution:r[0],balance:r[1],requestsCount:r[2],approversCount:r[3],manager:r[4]}]}}))}))()}}]),t}(d.Component),k=_}},function(e){e.O(0,[543,465,578,299,421,774,888,179],(function(){return r=8164,e(e.s=r);var r}));var r=e.O();_N_E=r}]);